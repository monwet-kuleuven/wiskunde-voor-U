%\documentclass[handout]{ximera}
\documentclass{ximera}

\input{./preamble.tex}

% Allicht enkel in online  versie te includen !!!

\author{Wim Obbels}
\outcome{Elementaire vertrouwdheid met Ximera functionaliteit}
\outcome{(Uitbreiding) Enig inzicht in Ximera architectuur}


\title{Ximera Howto}

\begin{document}
\begin{abstract}
	Ximewatisditnuweer?
\end{abstract}
\maketitle

\subsection{Ximera functionaliteit}
De online module voor deze cursus maakt gebruik van Ximera.

We wijzen u op volgende handige (en soms minder handige) aspecten van dit systeem:


TODO: uitwerken / aanvullen


\begin{itemize}
	\item Je kan iets moeten invullen / uitklappen / updaten / saven/erasen

	\item Iets over engels vs nederlands

	\item Iets over punten en komma's  (1.2 vs 1,2) ?

\end{itemize}

\subsection{(Uitbreiding) Ximera architectuur}

\subsubsection{De \LaTeX code}

Ximera is een relatief eenvoudige LaTeX module/uitbreiding, die twee nieuwe documentclasses definieert, en enkele nieuwe commando's en environments.

Het volstaat om twee files op de juiste plaats te copiëren om deze functionaliteit in pdflatex (via miktex, texlive, ...)  te kunnen gebruiken om correcte pdf's te kunnen genereren.


\paragraph{Documentclasses ximera en xourse} \ 

Een \verb|\documentclass{ximera}| \textit{bevat} 'activiteiten' of 'modules', dus duidelijk afgelijnde en in princiepe self-contained stukjes leerstof. 

De precieze omvang van één 'ximera-activitiet' is te beslissen (per hoofdstuk/sectie/subsectie; oefening/reeks oefeningen/type oefeningen ...?)

Een \verb|\documentclass{xourse}| \textit{omvat}  activiteiten of opefeningen, en is meestal een eenvoudige lijst van includes van 'ximera-activiteiten'. 

Een mogelijkheid is om één ximera-activiteit te maken per Module van de zomercurtsus, en 2 xourses, namelijk ZomercursusA.tex en ZomercursusB.tex die elk een lijstje van modules bevatten.


Info: \link{https://github.com/XimeraProject/ximeraLatex}

\paragraph{Environments} \ 

Ximera definieert een beperkt aantal environments die out-of-the-box een andere layout of functionaliteit bieden in PDF versus online:
\begin{enumerate}
    \item theorem, proposition, lemma, example ...: enkel layout wijzigt
    \item problem,exercise,question,exploration: kunnen optioneel commando's en environments bevatten die online interactieve webpagina's genereren (en in PDF keuzelijstjes/antwoorden/blanco's)
    \item foldable/expandable
    \item hint/feedback
    \item onlineOnly (cfr infra)
\end{enumerate}
    
\paragraph{Commands} \ 

\begin{enumerate}
    \item \verb|\pdfOnly| en \verb|\begin{onlineOnly}...\end{onlineOnly}|
    \item \verb|\youtube|, \verb|\geogebra|  en \verb|\desmos|
    \item \verb|\graph| en \verb|\sageCell|
\end{enumerate}


\subsubsection{De generatie en publicatie van HTML}

In principe werkt make4ht om html's te genereren. DIT ZIJN NIET DE HTLML's DIE VERDER DOOR XIMERA WORDEN GEBRUIKT, MAAR KUNNEN WEL DIENEN ALS EERSTE TEST.


TODO: installatie xake   (build-tool voor ximera) en/of integratie met git hooks en/of docker

TODO: publicatie via xake en/of docker en/of git(-hooks)


Info: \link{https://github.com/XimeraProject/xake}

\subsubsection{Ximera webhosting}

De html-website kan worden gehost op ximera.osu.edu  (voorbeeld: \link{https://ximera.osu.edu/wvu}) . 

\begin{verbatim}
Voordelen:

    Zero setup en onderhoud.

Nadelen:

    Dependency op osu.edu (upgrades/downtime/...)
    Is dit toegelaten?
    Zichtbaarheid (liever kuleuven.be url)

\end{verbatim}

De installatie van Ximera op eehn LINUX server is tamelijk eenvoudig. Kan in principe zowel Extern / Monitoraat / Faculteit Wetenschappen en/of ICTS ...? To be investigated....
    
Info: \link{https://github.com/XimeraProject/server}

\subsection{(Uitbreiding) Ximera Showcase}

\pdfOnly{
    \ifhandout
    Je gebruikt de HANDOUT PDF versie van de cursus; 
    
    Er bestaat ook een 'gewone' PDF die antwoorden en hints  bevat.
    \else
    Je gebruikt de STANDAARD PDF versie van de cursus; 

    Er bestaat ook een \textit{handout} PDF zonder de antwoorden!
    \fi
    
    Er bestaat ook een  online versie met extra functionaliteit
    
}

\begin{onlineOnly}
    Je gebruikt de ONLINE versie van de cursus; er bestaan PDF versies.
\end{onlineOnly}

\begin{prompt}  
    BEGIN PROMPT
    
    Deze tekst staat in een zogenaamde 'prompt' omgeving in \LaTeX. Het is de auteur van deze cursus voorlopig enigszins onduidelijk waarvoor dat precies dient.
    
    Volgens de documentatie zou dit 'hidden tekst' moeten zijn.
    (In de handout-versie wordt het inderdaad niet getoond.)
    
    EINDE PROMPT
\end{prompt}

\begin{problem}
    
    Los volgende vragen correct op:
    \begin{enumerate}
        \item $1+1 = \answer{2}$
        \item $1+1 = \answer[given]{2}$   ( Met 'answer[given]')
        \item $\frac{1}{2} =  \answer{\frac{1}{2}}$  (Gebruik een punt voor decimale getallen...)
        \item $\frac{1}{2} =  \answer[tolerance=.2]{\frac{1}{2}}$  (Je mag er 0.2 naast zitten)Probeer eerst 
    \end{enumerate}
\end{problem}

\begin{problem}
       Los volgende vragen correct op:
    \begin{enumerate}
        \item $1+1 = $\wordChoice{\choice[correct]{$2$}\choice{$3$}\choice{geen van de eerste twee opties}\choice{de derde optie}}
        
        \item $1+1 = $\begin{multipleChoice} \choice[correct]{$2$}\choice{$3$}\choice{geen van de vorige antwoorden}\choice{het bovenstaande antwoord}\end{multipleChoice}
        
        \item $1+1 = $\begin{selectAll} \choice[correct]{$2$}\choice{$3$}\choice{geen van de vorige antwoorden}\choice{het bovenstaande antwoord}\choice[correct]{$1+1$}\end{selectAll}
    \end{enumerate}
\end{problem}

\begin{problem}
    Los volgende erg moeilijke vragen correct op. 
    
    Paniek is echter niet nodig, want we voorzien uitvoerige hints en feedback!
    
        \begin{question} % (Gebruik de hint!)
          $2+2 = $\wordChoice{\choice{$2$}\choice{$3$}\choice[correct]{$4$}\choice{geen van de vorige antwoorden}\choice{het vorige antwoord}}
          \begin{hint}
              Per definitie is $2 = 1+1$, en de optelling associatief.
           \end{hint}  
           \begin{hint}
              Voor $1+1+1+1$ hadden we een kortere notatie ingevoerd ...
           \end{hint}
           \begin{feedback}[correct] Proficiat, je kan al erg goed rekenen! Doe zo voort.
           \end{feedback}          
        \end{question}
   
        \begin{question}
          Als $y=4+4$ dan is $y = \answer[format=integer,id=y]{8}$ (Geef een geheel getal, en probeer eerst een fout getal, bv 7.)
          \begin{hint}[0]
              Heb je 7 al geprobeerd (want dan krijg je erg nuttige feedback!)
          \end{hint}
          \begin{hint}
            Herinner u het antwoord van de vorige vraag voor de preciese betekenis van het symbool $4$ !
          \end{hint}
          \begin{hint}[3]
            Gewoon optellen ja ....
          \end{hint}
      
          \begin{feedback}[correct]
              Correct !
          \end{feedback}
%          \begin{feedback}[y<>8]
%               Fout !
%           \end{feedback}
          \begin{feedback}[attempt]
            De organisatie laat niet na u bij deze vriendelijk te danken voor uw verdienstelijke poging om deze vraag te beantwoorden.   
           \end{feedback}

 
      
          \begin{feedback}[y==7]
            Wel, je volgt de richtlijnen erg nauwkeurig. Maar ook voor andere foute antwoorden geven we interessante feedback
          \end{feedback}
          \begin{feedback}[y==8]
          Proficiat. Je heheerst deze module voldoende. Je bent nu voldoende voorbereid om verder te gaan naar de fascinerende problematiek van \link[HoTT]{https://github.com/HoTT/HoTT}
          \end{feedback}
          \begin{feedback}[y<7]
              Mmm, dat is wat weinig. Reken alles nog eens nauwkeurig na.
            \end{feedback}
          \begin{feedback}[y>8]
               Mmm, dat is wat veel. Reken alles nog eens nauwkeurig na.
           \end{feedback}
       \end{question}
\end{problem}

\begin{comment}
\subsubsection{Ken je Sage al?}

In Sage kan je relatief eenvoudig de parametervergelijkingen van een cirkel bestuderen:

\begin{sageCell}
    var('s t')
    x(t) = 3*cos(t)
    y(t) = 3*sin(t)
    c(t) = (x(t),y(t))
    circle=parametric_plot(c(t),(t,0,2*pi),color="black")
    circle
\end{sageCell}

\pdfOnly{In de onlineversie kan je met deze code experimenteren. 
    
    Zie [één of andere ingewikkelde url] of [een qrcode]
}

\begin{onlineOnly}
    
    Pas de code aan, en druk op Evaluate!
    
    Nice, zoals ze zeggen ...
    
\begin{sageOutput}
    var('s t')
    x(t) = 3*cos(t)
    y(t) = 3*sin(t)
    c(t) = (x(t),y(t))
    circle=parametric_plot(c(t),(t,0,2*pi),color="black")
    circle
\end{sageOutput}
\end{onlineOnly}
\end{comment}

\end{document}